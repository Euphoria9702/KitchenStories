<template>
    <div class='detail'>
        <div class='detail_header'>
            <span @click='back()' class='back_btn'>
                <i class='iconfont icon-left'></i>
            </span>
            <p class='icon'>
                <i class='iconfont icon-cc-heart-o'></i>
                <i class='iconfont icon-icon-test'></i>
                <i class='iconfont icon-fenxiang'></i>
            </p>
        </div>
        <div class='bg_box'>
            <img :src='con[$route.params.id].src' class='bg_img'>
        </div>
        <div class='shade'>
            <p class='title'>{{con[$route.params.id].title}}</p>
        </div>
        <div class='container'>

            <div class='grade'>
                <div class='star'>
                    <i class='iconfont icon-star active'></i>
                    <i class='iconfont icon-star active'></i>
                    <i class='iconfont icon-star active'></i>
                    <i class='iconfont icon-star active'></i>
                    <i class='iconfont icon-star'></i>
                    <p>4è¯„åˆ†</p>
                </div>
                <div class='icon'>
                    <span><i class='iconfont icon-cc-heart-o'></i>{{con[$route.params.id].like}}</span>
                    <span><i class='iconfont icon-icon-test'></i>ä¿å­˜</span>
                    <span><i class='iconfont icon-fenxiang'></i>åˆ†äº«</span>
                </div>
            </div>

            <div class='comment'>
                <div class='com_header'>
                    æ–°é£Ÿè®°
                    <span class='link_all'>æŸ¥çœ‹å…¨éƒ¨
                        <i class='iconfont icon-more'></i>
                    </span>
                    <span class='com_data'>0 ç…§ç‰‡ - 4 è¯„è®º</span>
                </div>
                <div class='com_el'>
                    <img src='../../assets/images/touxiang01.jpg' class='user_img'>
                    <p class='user_name'>echo</p>
                    <p class='txt'>è¿™æ˜¯å¦‚æ­¤ç¾å‘³ğŸ¤¤ï¼Œä»¤äººå‚æ¶æ¬²æ»´ï¼Œå‘³é“å¦‚æ­¤ä¹‹å¥½ï¼Œä»¥å‰ä»æœªæœ‰è¿‡è¿™æ ·çš„ä¸œè¥¿</p>
                </div>
            </div>

            <div class='degree'>
                <p>éš¾åº¦ï¼šæ˜“</p>
            </div>

            <div class='cooking_time'>
                <div class="time-graph">  
                <li class='time' v-for='v in con[$route.params.id].time'><span>{{v}}</span> åˆ†é’Ÿ</li>
                </div> 
                <ul>
                    <li>çƒ¹é¥ªæ—¶é—´</li>
                    <li>çƒ˜ç„™æ—¶é—´</li>
                    <li>é™ç½®æ—¶é—´</li>
                </ul>
            </div>

            <div class='material'>
                <p>é£Ÿæ</p>
                <div class='number'>
                    2ä»½æ•°
                    <ul>
                        <li><i class='iconfont icon-jian'></i></li>
                        <li><i class='iconfont icon-tianjia'></i></li>
                    </ul>
                </div>
                <ul class='material_list'>
                    <li><span>200å…‹</span>ç±³é¥­(ç†Ÿ)</li>
                    <li><span>2</span>é’è‘±</li>
                    <li><span>Â½</span>èƒ¡èåœ</li>
                    <li><span>2</span>é¸¡è›‹</li>
                    <li><span>30æ¯«å‡</span>æ–™é…’</li>
                    <li><span></span>ç›</li>
                    <li><span></span>èƒ¡æ¤’</li>
                    <li><span></span>ç…ç‚’ç”¨æ¤ç‰©æ²¹</li>
                </ul>
                <div class='btn'>
                    <span class='change'><i class='iconfont icon-cheng-danse'></i></span>
                    <span class='add'>æ·»åŠ è‡³è´­ç‰©è½¦</span>
                </div>
            </div>
            <div class='tips'>
                <p>å°è´´å£«è§†é¢‘</p>
                <div class='drag cut'>
                    <ul class="wdrag_list">
                        <li class='wdrag_el' v-for='v in data[0].knife'>
                            <div class='drag_imgbox'>
                                <img :src='v.src'>
                                <span class='Bigvedio'>
                                    <i class='iconfont icon-shipin'></i>
                                </span>
                            </div>
                            <p class='title Stitle'>{{v.title}}</p>
                            <p class='subtitle'>{{v.time}} åˆ†é’Ÿ - {{v.like}} æ¬¡è§‚çœ‹</p>
                        </li>
                    </ul>
                </div>
            </div>

            <div class='degree'>
                <p>ç”¨å…·</p>
                <p class='tool'>åˆ€ï¼Œç §æ¿ï¼Œæµ¸å…¥å¼æ…æ‹Œæœºï¼Œç…é”…ï¼Œå¤§é”…</p>
            </div>

             <div class='Nut'>
                <p class='N_title'>æ¯ä»½æ‰€å«è¥å…»</p>
                <ul class='Nutrition'>
                    <li>å¡è·¯é‡Œ</li>
                    <li>è›‹ç™½è´¨</li>
                    <li>è„‚è‚ª</li>
                    <li>ç¢³æ°´åŒ–åˆç‰©</li>
                </ul>
                <ul class='Nutrition'>
                    <li class='num'>685</li>
                    <li class='num'>11g</li>
                    <li class='num'>18g</li>
                    <li>97g</li>
                </ul>
            </div>

            <ul class='step'>
                <li class='step1'>
                    <p class='step_num'><span>çƒ¹é¥ªæ­¥éª¤ 1/4</span></p>
                    <img src='../../assets/images/step01.jpg' class='step_img'>
                    <ul>
                        <li><i class='iconfont icon-canyinshiwuyinliao'></i>4 é»„æ¡ƒ - Â½é¦™è‰è±†èš</li>
                        <li class='tl'><i class='iconfont icon-shaguo-'></i>åˆ€ - ç §æ¿</li>
                        <li>æ¡ƒå­åˆ‡åŠï¼Œå»æ ¸ã€‚åˆ®å‡ºé¦™è‰è±†èšçš„ç±½ã€‚</li>
                    </ul>
                </li>
                <li class='step2'>
                    <p class='step_num'><span>çƒ¹é¥ªæ­¥éª¤ 2/4</span></p>
                    <img src='../../assets/images/step02.jpg' class='step_img'>
                    <ul>
                        <li><i class='iconfont icon-canyinshiwuyinliao'></i>200 æ¯«å‡ ç™½è‘¡è„é…’ - 1 æŸ æª¬ï¼ˆçš®ç¢ï¼‰- 100 å…‹ ç³–</li>
                        <li class='tl'><i class='iconfont icon-shaguo-'></i>å¤§é”…</li>
                        <li>å°†ç™½è‘¡è„é…’ã€åˆ®è¿‡çš„é¦™è‰è±†èšå’Œç±½ã€æŸ æª¬çš®å’Œç³–æ”¾å…¥å¤§é”…ä¸­ï¼Œä¸­ç«åŠ çƒ­ã€‚æ…æ‹Œè‡³ç³–æº¶è§£ï¼Œæ”¾å…¥æ¡ƒå­ï¼Œå°ç«ç…®5åˆ†é’Ÿï¼Œè¿™æ ·æ¡ƒå­æ—¢èƒ½ä¿æŒç»“å®ï¼Œè¿˜èƒ½æµ¸å…¥é¦™å‘³ã€‚å°†æ¡ƒå­ä»é”…ä¸­æå‡ºï¼Œç»§ç»­ç…®ç³–æµ†3åˆ†é’Ÿï¼Œæˆ–ç›´è‡³ç³–æµ†æµ“ç¼©ï¼Œå…³ç«å–ä¸‹ã€‚</li>
                    </ul>
                </li>
                <li class='step3'>
                    <p class='step_num'><span>çƒ¹é¥ªæ­¥éª¤ 3/4</span></p>
                    <img src='../../assets/images/step03.jpg' class='step_img'>
                    <ul>
                        <li><i class='iconfont icon-canyinshiwuyinliao'></i>50 å…‹ æä»ç‰‡</li>
                        <li class='tl'><i class='iconfont icon-shaguo-'></i>ç…é”…</li>
                        <li>åœ¨ç…é”…ä¸­ï¼Œä¸­ç«å°†æä»ç‰‡çƒ¤æˆé‡‘è‰²ã€‚</li>
                    </ul>
                </li>
                <li class='step4'>
                    <p class='step_num'><span>çƒ¹é¥ªæ­¥éª¤ 4/4</span></p>
                    <img src='../../assets/images/step04.jpg' class='step_img'>
                    <ul>
                        <li><i class='iconfont icon-canyinshiwuyinliao'></i>175 å…‹ è¦†ç›†å­-20 å…‹ç³–ç²‰-1 èŒ¶åŒ™ æŸ æª¬æ±-ä½é¤ç”¨è¦†ç›†å­-ä½é¤ç”¨é¦™è‰å†°æ·‡æ·‹</li>
                        <li class='tl'><i class='iconfont icon-shaguo-'></i>æµ¸å…¥å¼æ…æ‹Œæœº</li>
                        <li>å°†éƒ¨åˆ†è¦†ç›†å­å’Œç³–ç²‰ã€æŸ æª¬æ±æ…æ‰“åˆ°ä¸€èµ·ã€‚è£…ç›˜æ—¶ï¼Œå°†2åŠæ¡ƒå­åˆ†åˆ«æ”¾åˆ°ç›˜ä¸­ï¼Œæ·‹ä¸Šç³–æµ†ã€è¦†ç›†å­é…±ï¼Œæ”¾ä¸Šæä»ç‰‡ã€æ–°é²œè¦†ç›†å­å’Œä¸€å‹ºé¦™è‰å†°æ·‡æ·‹ã€‚å°½æƒ…äº«ç”¨å§ï¼</li>
                    </ul>
                </li>
                <span class='kaji'>
                    <i class='iconfont icon-camera1'></i>
                    å’”æ“¦ä¸€ä¸‹ï¼Œåˆ†äº«ä½ çš„ç¾é£Ÿï¼
                </span>
                <img src='../../assets/images/chengping01.jpg' class='step_img'>
            </ul>

            <div class='degree'>
                <p>æ ‡ç­¾</p>
                <span>#åšæœ</span><span>#å†°æ¿€å‡Œ</span><span>#æ…æ‹Œ</span><span>#ç”œ</span><span>#è‹æœ</span>
                <span>#ç”œç‚¹</span><span>#æµ†æœ</span><span>#çˆ½å¿ƒç¾é£Ÿ</span><span>#æ³•å›½èœ</span>
            </div>
        </div>
    </div>
</template>

<script scoped>
    import $ from 'zepto'
    export default{
        data(){
            return{
                data:[],
                con:[],
                index:0
            }
        },
        methods:{
            back(){
                this.$router.go(-1)
            }
        },
         mounted(){
            this.$axios.get('json/tips.json').then(res=>{
                this.data=res.data.data
            })
            .catch(error=>{
                console.log(error)
            }),
             this.$axios.get('json/detail.json').then(res=>{
                this.con=res.data.data;
             })
             .catch(error=>{
                console.log(error)
            })
        }
    }

    //å¤´éƒ¨äº‹ä»¶
    var flag=32;
    $(window).scroll(function(event) {
        if($(window).scrollTop()>=450){
            $('.detail_header').css('background','#fff');
            $('.detail_header').css('border-bottom','1px solid #ccc');
            $('.detail_header .icon-left').css('color','#0a7f78');
        }else{
            $('.detail_header').css('background','rgba(0,0,0,0)');
            $('.detail_header').css('border-bottom','none');
            $('.detail_header .icon-left').css('color','#fff');
        }
        
        if($(window).scrollTop()>=500){
            $('.detail_header .icon').show();
            if(flag>0){
                flag--;
                $('.detail_header .icon').css('top',flag);
            }
            else{
                $('.detail_header .icon').css('top',0);
            }
        }
        else{
            $('.detail_header .icon').hide();
            flag=32
        }
        if(($(window).scrollTop()>=1564)&&($(window).scrollTop()<1894)){
            $('.step1 .step_num').addClass('active1');
        }else{
            $('.step1 .step_num').removeClass('active1');
        }
        if(($(window).scrollTop()>=1894)&&($(window).scrollTop()<2457)){
            $('.step2 .step_num').addClass('active1');
        }else{
            $('.step2 .step_num').removeClass('active1');
        }
        if(($(window).scrollTop()>=2416)&&($(window).scrollTop()<2824)){
            $('.step3 .step_num').addClass('active1');
        }else{
            $('.step3 .step_num').removeClass('active1');
        }
        if(($(window).scrollTop()>=2824)&&($(window).scrollTop()<3300)){
            $('.step4 .step_num').addClass('active1');
        }else{
            $('.step4 .step_num').removeClass('active1');
        }
    })


</script>

<style scoped>
    .time-graph{
        display:flex;
    }
    .cooking_time ul{
        display:flex;
    }
    .cooking_time ul li,.time{  
        width: 27%;  
        height: 27%;  
        text-align:center;
        margin-top:10px;
    } 
    .cooking_time ul li:nth-child(2),.time:nth-child(2){
        margin: 0 9%;
        margin-top:10px;
    } 
    .time{
        border: 1px solid #268e87;
        border-radius: 3px;
        display:block;
        padding:5px 0;
        font-size:12px;
    }
    .time span{
        font-size:16px;
        font-weight:600;
        color:#268e87;
    }
    .active1{
        position: fixed;
        top: 40px;
        left: 0;
        width: 100%;
        padding-left: 10px;
        z-index: 999;
        background: #fff;
    }
    .active1 span{
         padding-left:10px;
    }
    .detail_header{
        position:fixed;
        text-align:center;
        width:100%;
        height:20px;
        padding:10px 0;
        background:rgba(0,0,0,0);
        z-index:2019;
        transition:all 0.5s;
        overflow:hidden;
    }
    .detail_header .icon{
        position:relative;
        top:32px;
        display:none;
        width: 80%;
        left: 50%;
        margin-left: -40%;
    }
    .detail_header .icon .iconfont{
        margin:0 5px;
        font-size:18px;
    }
    .detail_header .icon-left{
        font-size:20px;
    }
    .back_btn{
        position:fixed;
        top:10px;
        left:10px;
        color: #fff;
    }
    .bg_img{
        width:100%;
        display:block;
    }
    .bg_box{
        position:fixed;
        top:0px;
        left:0;
        z-index:-1;
        width:100%;
        height: 460px;
        overflow: hidden;
    }
    .shade{
        height:460px;
        width:100%;
        background:linear-gradient(to bottom,rgba(0,0,0,0) 60%,rgba(0,0,0,0.5) 100%);
        position:relative;
        z-index:99;
        color:#fff;
    }
    .shade>.title{
        position:absolute;
        bottom:25px;
        left:0;
        width:100%;
        text-align:center;
        font-size:20px;
        font-weight:600;
        letter-spacing:2px;
    }
    .container{
        width:100%;
        padding:0 10px;
        box-sizing:border-box;
        background:#fff;
    }
    .grade{
        border-bottom:1px dotted #ccc;
        padding:20px 0;
    }
    .star{
        text-align:center;
        font-size:12px;
        line-height:20px;
        margin-bottom:20px;
    }
    .star .icon-star{
        font-size:14px;
        color:#ccc;
    }
    .star .icon-star.active{
        color:#ffcd02;
    }
    .icon{
        width:100%;
        text-align:center;
        color:#767676;
    }
    .icon span{
        margin:0 8px;
    }
    .icon span .iconfont{
        margin:0 5px;
        font-size:20px;
    }
    .com_header{
        font-weight:500;
        margin-bottom: 0.25rem;
    }
    .comment{
        padding:20px 0;
        border-bottom:1px dotted #ccc;
    }
    .link_all{
        float:right;
        color: #0a7f78;
        font-size:14px;
        font-weight: 500;
    }
    .link_all .iconfont{
        font-size:14px;
    }
    .com_data{
        display:block;
        color: #767676;
        font-size:11px;
    }
    .com_el{
        margin-top:20px;
        font-size:14px;
    }
    .user_img{
        width:50px;
        height:50px;
        border-radius:5px;
        float:left;
        margin-right:10px;
    }
    .txt{
        float:rigth;
    }
    .degree{
        padding:20px 0;
        border-bottom:1px dotted #ccc;
    }
    .degree>span{
        display:inline-block;
        color: #268e87;
        margin-right:10px;
        font-size:14px;
        margin-top:10px;
    }

    .cooking_time{
        padding:20px 0;
        border-bottom:1px dotted #ccc;
    }
    .material{
        padding:20px 0;
        border-bottom:1px dotted #ccc;
    }
    .number{
        overflow:hidden;
        font-size:14px;
        margin-top:10px;
    }
    .number ul{
        display: flex;
        border: 1px solid #268e87;
        border-radius: 3px;
        float:right;
        width:20%;
    }
    .number ul li{
        width: 50%;
        box-sizing: border-box;
        text-align: center;
    }
    .number ul li:nth-child(1){
        border-right: 1px solid #268e87;
    }
    .number ul li .iconfont{
        color:#268e87;
    }
    .material_list{
        font-size:14px;
        margin-top:10px;
    }
    .material_list li span{
        display:inline-block;
        width:25%;
    }
    .btn span{
        display:inline-block;
        background:#268e87;
        color:#fff;
        border-radius: 3px;
        text-align:center;
        font-size:13px;
        padding:5px 0;
    }
    .btn{
        margin-top:10px;
    }
    .btn .change{
        width:8%;
        margin-right:1%;
    }
    .btn .add{
        width:89%;
    }
    .tips{
        padding:20px 0;
        border-bottom:1px dotted #ccc;
    }
    .drag{
        overflow-x:scroll;
        padding-top:10px;
    }
    .drag_imgbox{
        border-radius:12px;
        overflow:hidden;
        position:relative;
        margin-bottom:10px;
    }
    .wdrag_list{
        display:flex;
        min-width:1760px;
    } 
    .wdrag_el{
        width:240px;
        margin-right:1rem;
    }
    .drag_imgbox img{
        width:100%;
        display:block;
    }
    .Bigvedio{
        position:absolute;
        z-index:80;
        height: 50px;
        margin-right:-25px;
        margin-bottom:-25px;
        bottom:50%;
        right:50%;
        border-radius:50%;
        background:rgba(0,0,0,0.2)
    }
    .Bigvedio .iconfont{
        font-size:50px;
        color:#fff;
    }
    .tool{
        margin-top:5px;
        font-size:14px;
    }
    .Nut{
        padding:20px 0;
    }
    .N_title{
        margin-bottom:5px;
    }
    .Nutrition{
        display:flex;
        font-size:14px;
    }
    .Nutrition li{
        padding:0 5px;
        box-sizing:border-box;
        width:25%;
        text-align:center;
    }
    .num{
        border-right:1px solid #ccc;
    }
    .step{
        padding-bottom:20px;
        border-bottom:1px dotted #ccc;
    }
    .step_num{
        padding:8px 0;
        border-top:1px solid #ccc;
        border-bottom:1px solid #ccc;
    }
    .step_img{
        width:100%;
    }
    .step ul li{
        font-size:14px;
        padding:10px 0;
    }
    .step ul li .iconfont{
        font-size:18px;
        margin-right:10px;
    }
    .step ul li.tl{
        padding:0 0 10px 0;
        border-bottom:1px solid #ccc;
    }
    .kaji{
        margin:30px 0 20px 0;
        width:100%;
        padding:15px 0;
        border: 1px solid #268e87;
        border-radius: 5px;
        color:#268e87;
        display:block;
        box-sizing:border-box;
        text-align:center;
        font-size:14px;
    }
    .kaji .iconfont{
        font-size:25px;
    }
</style>